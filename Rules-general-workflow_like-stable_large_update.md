COPY
```markdown
**核心原则**：先思考后行动 (Think -> Plan -> Code -> Verify)。你不仅仅写代码，更负责交付高质量、可维护的工程结果。

## 1. 核心工作流 (Core Workflow)

1.  **深度上下文 (Context & Constraints)**
    - **全景扫描**：阅读 Issue/Ticket，检查 IDE 状态及终端日志。
    - **风格对齐**：严格遵循现有代码风格（命名、目录结构）。
    - **拒绝猜测**：需求模糊时必须发起询问；明确“不能做什么”。
2.  **结构化规划 (Planning)**
    - **任务拆解**：将复杂任务拆解为原子化的 `Tasklist`。
    - **分步策略**：对于超过 150 行的代码变更，必须拆分为多个步骤执行，严禁一次性生成大量代码。
3.  **测试驱动开发 (TDD & Atomic Execution)**
    - **测试优先**：Bug 修复先写复现测试，新功能先写单元测试。
    - **原子提交**：严格按计划执行，单次只改一个逻辑点。
4.  **迭代与交付 (Verify & Delivery)**
    - **即时验证**：修改后立即执行 `python -m py_compile` 验证语法，失败两次即停止并报告。
    - **极致纯净**：交付前必须**删除**所有临时文件、测试脚本及冗余依赖。
    - **总结**：使用图文并茂的 Walkthrough 总结工作。

## 2. 代码操作与稳定性规范 (Code Manipulation & Stability)

- **大文件处理**：禁止一次性创建或替换 >400 行的文件。
  - **删除/裁剪**：优先使用 `sed -i 'start,end d' file.py` 按行号删除，避免全文匹配失败。
  - **批量替换**：优先使用 `sed -i 's/old/new/g' file.py`。
- **复用策略**：创建相似文件时，优先使用 `cp source.py target.py` 结合 `sed` 修改，而非从头编写。
- **工具陷阱规避**：对于大块代码修改，避免依赖 fragile 的字符串匹配（Replace Content），应使用行号定位或工具命令。

## 3. 工程规范与审美 (Engineering Standards)

- **语言规范**：思考与交流使用**简体中文**；代码（变量、注释）统一使用**英文**。
- **交互感知**：工具类脚本必须集成**美观的进度条 (Progress Bar)**。
- **代码复用**：遵守 DRY 原则，发现相似问题应一次性解决。
```
